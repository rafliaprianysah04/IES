{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="csrf-token" content="{{ csrf_token }}">
    <title>Dashboard - Finance</title>

    <!-- Styles -->
    <link rel="stylesheet" href="{% static 'assets/css/bootstrap.css' %}">
    <link rel="stylesheet" href="{% static 'assets/vendors/chartjs/Chart.min.css' %}">
    <link rel="stylesheet" href="{% static 'assets/vendors/perfect-scrollbar/perfect-scrollbar.css' %}">
    <link rel="stylesheet" href="{% static 'assets/css/app.css' %}">
    <link rel="shortcut icon" href="{% static 'assets/images/icon.png' %}" type="image/x-icon">
    <link rel="stylesheet" href="{% static 'assets/css/sales_remaining.css' %}">
    


    <!-- Tambahkan CSS Simple-DataTables -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/simple-datatables@latest/dist/style.css">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/simple-datatables@latest/dist/style.css">
</head>
<body>
    <div id="app">
        <div id="sidebar" class='active'>
            <div class="sidebar-wrapper active">
                <div class="sidebar-header">
                    <a href="{% url 'finance:dashboard' %}?token={{ token }}" class='sidebar-link'>
                        <img src="{% static 'assets/images/fintercon.png' %}" alt="Logo">
                    </a>
                </div>
                <div class="sidebar-menu">
                    <ul class="menu">

                        {% for item in menu_with_subs %}
                        <li class="sidebar-item {% if item.submenus %}has-sub{% endif %}">
                            <a href="{% if item.submenus %}#{% else %}{{ item.url|default:'#' }}{% endif %}" class='sidebar-link'>
                                <i class="{{ item.icon }}" width="20"></i>
                                <span>{{ item.name }}</span>
                            </a>
                            {% if item.submenus %}
                            <ul class="submenu">
                                {% for sm in item.submenus %}
                                <li>
                                    <a href="{{ sm.url|default:'#' }}?token={{ token }}">
                                        <i class="{{ sm.icon }}"></i> {{ sm.name }}
                                    </a>
                                </li>
                                {% endfor %}
                            </ul>
                            {% endif %}
                        </li>
                        {% endfor %}

                        <li class="sidebar-item {% if request.resolver_match.url_name == 'dashboard' %}active{% endif %}"></li>
                            <a href="http://127.0.0.1:8000/login/logout" class='sidebar-link'>
                                <i class="fas fa-arrow-left" width="20"></i>
                                <span>Logout</span>
                            </a>
                        </li>
                    </ul>
                </div>
                <button class="sidebar-toggler btn x"><i data-feather="x"></i></button>
            </div>
        </div>
        <div id="main">
            <nav class="navbar navbar-header navbar-expand navbar-light">
                <a class="sidebar-toggler" href="#">
                    <i data-feather="menu" width="20"></i>
                </a>
                <div class="collapse navbar-collapse" id="navbarSupportedContent">
                    <ul class="navbar-nav d-flex align-items-center navbar-light ml-auto">
                        <!-- ... notification and user dropdowns ... -->
                    <li class="dropdown">
                            <a href="#" data-toggle="dropdown" class="nav-link dropdown-toggle nav-link-lg nav-link-user">
                                <div class="d-none d-md-block d-lg-inline-block">Hi, {{ user.first_name }}</div>
                            </a>
                            <div class="dropdown-menu dropdown-menu-right">
                                <a class="dropdown-item" href="#"><i data-feather="user"></i> Account</a>
                                <a class="dropdown-item active" href="#"><i data-feather="mail"></i> Messages</a>
                                <a class="dropdown-item" href="#"><i data-feather="settings"></i> Settings</a>
                                <div class="dropdown-divider"></div>
                                <a class="dropdown-item" href="#"><i data-feather="log-out"></i> Logout</a>
                            </div>
                        </li>
                    </ul>
                </div>
            </nav>

            {% block content %}
            <!-- Page content will be injected here -->
            {% endblock %}

            <footer>
                <div class="footer clearfix mb-0 text-muted">
                    <div class="float-left">
                        <p>2025 &copy; Intercon Enterprise System</p>
                    </div>
                    <div class="float-right">
                        <p>Created By: <span class='text-danger'><i data-feather="heart"></i></span> Team IT ITI</p>
                    </div>
                </div>
            </footer>
        </div>
    </div>

    <!-- Scripts -->
    <script src="{% static 'assets/js/feather-icons/feather.min.js' %}"></script>
    <script src="{% static 'assets/vendors/perfect-scrollbar/perfect-scrollbar.min.js' %}"></script>
    <script src="{% static 'assets/js/app.js' %}"></script>
    <script src="{% static 'assets/vendors/chartjs/Chart.min.js' %}"></script>
    <script src="{% static 'assets/vendors/apexcharts/apexcharts.min.js' %}"></script>
    <script src="{% static 'assets/js/pages/dashboard.js' %}"></script>
    <script src="{% static 'assets/js/main.js' %}"></script>
    <script src="{% static 'assets/vendors/bootstrap/bootstrap.bundle.min.js' %}"></script>
    <!-- jQuery (wajib sebelum Bootstrap JS) -->
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<!-- Bootstrap JS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

    <!-- Init Feather Icons -->
    <script>
        feather.replace();
    </script>

    <script src="https://cdn.jsdelivr.net/npm/simple-datatables@latest" defer></script>
<script>
    document.addEventListener("DOMContentLoaded", function () {
        const dataTable = new simpleDatatables.DataTable("#myTables", {
            perPage: 10,
            perPageSelect: [10, 25, 50, 100],
            searchable: true,
            sortable: true,
            fixedHeight: false,
        });
    });
</script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>