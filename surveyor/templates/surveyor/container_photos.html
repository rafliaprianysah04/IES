{% extends 'base_surveyor.html' %}

{% block title %}Foto Container {{ container_no }}{% endblock %}

{% block content %}
<div class="container-fluid">
    <!-- Page Heading -->
    <div class="d-sm-flex align-items-center justify-content-between mb-4 px-3">
        <h1 class="h4 mb-0 text-dark">Foto Container <strong>{{ container_no }}</strong></h1>
        
        <!-- Tombol PDF & Kembali di sisi kanan -->
        <div class="d-flex gap-2">
            <a href="{% url 'surveyor:download_container_photos_pdf' referal=referal container_no=container_no %}" class="btn btn-danger mr-2">
                <i class="fas fa-file-pdf"></i> Download PDF
            </a>
            <a href="{% url 'surveyor:container_in_list' %}" class="btn btn-secondary">
                ‚Üê Kembali
            </a>
        </div>
    </div>

    {% if rooftop_photos or base_photos or under_photos %}

        {% if rooftop_photos %}
        <h5 class="mt-4 mb-3">üì∏ Rooftop</h5>
        <div class="row">
            {% for photo_url in rooftop_photos %}
            <div class="col-md-4 mb-4">
                <div class="card h-100 shadow-sm">
                    <img src="{{ photo_url }}" class="card-img-top img-fluid" style="height: 260px; object-fit: cover;" alt="Rooftop {{ forloop.counter }}">
                    <div class="card-body p-2 text-center">
                        <small>Rooftop {{ forloop.counter }}</small>
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
        {% endif %}

        {% if base_photos %}
        <h5 class="mt-4 mb-3">üì¶ Base</h5>
        <div class="row">
            {% for photo_url in base_photos %}
            <div class="col-md-4 mb-4">
                <div class="card h-100 shadow-sm">
                    <img src="{{ photo_url }}" class="card-img-top img-fluid" style="height: 260px; object-fit: cover;" alt="Base {{ forloop.counter }}">
                    <div class="card-body p-2 text-center">
                        <small>Base {{ forloop.counter }}</small>
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
        {% endif %}

        {% if under_photos %}
        <h5 class="mt-4 mb-3">üîª Under</h5>
        <div class="row">
            {% for photo_url in under_photos %}
            <div class="col-md-4 mb-4">
                <div class="card h-100 shadow-sm">
                    <img src="{{ photo_url }}" class="card-img-top img-fluid" style="height: 260px; object-fit: cover;" alt="Under {{ forloop.counter }}">
                    <div class="card-body p-2 text-center">
                        <small>Under {{ forloop.counter }}</small>
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
        {% endif %}

    {% else %}
    <div class="alert alert-warning text-center">
        Tidak ada foto tersedia untuk container ini.
    </div>
    {% endif %}
</div>
{% endblock %}
